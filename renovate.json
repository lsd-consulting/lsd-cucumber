{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base"],
  "semanticCommits": "enabled",
  "schedule": ["at any time"],
  "prHourlyLimit": 10,
  "prConcurrentLimit": 5,
  "platformAutomerge": true,
  "packageRules": [
    {
      "description": "Test dependencies - does not trigger semantic releases",
      "matchDepTypes": ["test", "lsdReportVerificationImplementation"],
      "groupName": "testing-dependencies",
      "commitMessagePrefix": "test:",
      "semanticCommitType": "test",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "LSD dependencies - production",
      "matchPackageNames": ["io.github.lsd-consulting:**"],
      "matchDepTypes": ["dependencies"],
      "groupName": "lsd-dependencies",
      "commitMessagePrefix": "fix:",
      "semanticCommitType": "fix",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Cucumber dependencies - production",
      "matchPackageNames": ["io.cucumber:**"],
      "matchDepTypes": ["dependencies"],
      "groupName": "cucumber-dependencies",
      "commitMessagePrefix": "fix:",
      "semanticCommitType": "fix",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Utility dependencies - production",
      "matchPackageNames": ["com.j2html:**"],
      "matchDepTypes": ["dependencies"],
      "groupName": "utility-dependencies",
      "commitMessagePrefix": "fix:",
      "semanticCommitType": "fix",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Kotlin dependencies - production",
      "matchPackageNames": [
        "org.jetbrains.kotlin:**",
        "org.jetbrains.dokka:**"
      ],
      "matchDepTypes": ["dependencies"],
      "groupName": "kotlin-dependencies",
      "commitMessagePrefix": "fix:",
      "semanticCommitType": "fix",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "GitHub Actions - no version impact",
      "matchManagers": ["github-actions"],
      "commitMessagePrefix": "ci:",
      "semanticCommitType": "ci",
      "schedule": ["before 4am on monday"]
    },
    {
      "description": "All other production dependencies",
      "matchDepTypes": ["dependencies"],
      "excludePackageNames": [
        "io.github.lsd-consulting:**",
        "io.cucumber:**",
        "com.j2html:**",
        "org.jetbrains.kotlin:**",
        "org.jetbrains.dokka:**"
      ],
      "commitMessagePrefix": "fix:",
      "semanticCommitType": "fix",
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Major version updates - require manual review",
      "matchUpdateTypes": ["major"],
      "automerge": false
    }
  ]
}
